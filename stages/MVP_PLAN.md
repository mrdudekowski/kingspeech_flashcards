# План разработки MVP

## Общая информация

**Цель:** Создать рабочее приложение для изучения английского языка с модульной структурой словаря, flashcards и квизами.

**Принцип:** Переход на следующий этап возможен только после закрытия ВСЕХ чекпойнтов предыдущего этапа.

---

## Этап 1: Базовая настройка проекта ✅

**Статус:** ✅ ЗАВЕРШЕН

**Цель:** Создать рабочую основу проекта с настроенными инструментами.

### Чекпойнты:
- [x] Vite проект инициализирован
- [x] Все зависимости установлены (React, Redux Toolkit, React Router, Tailwind)
- [x] TypeScript настроен (strict mode)
- [x] Tailwind CSS настроен с glass-morphism утилитами
- [x] Vite конфигурация с path aliases
- [x] Базовая структура директорий создана
- [x] `app/constants.ts` создан (Single Source of Truth)
- [x] ESLint/Prettier настроены
- [x] Dev-сервер запускается без ошибок

**Результат:** Проект готов к разработке, все инструменты настроены.

---

## Этап 2: Redux Store и базовая структура ✅

**Статус:** ✅ ЗАВЕРШЕН

**Цель:** Настроить Redux Store, определить типы данных и создать первый slice.

### Чекпойнты:
- [x] Определены базовые типы в `src/shared/types/index.ts`
- [x] Создан Redux store в `src/app/store.ts`
- [x] Созданы typed hooks в `src/shared/hooks/redux.ts`
- [x] Создан root компонент с Provider
- [x] Обновлен `main.tsx` для использования Provider
- [x] Создан vocabulary slice с actions и селекторами
- [x] Vocabulary slice подключен к store
- [x] Redux DevTools работает в браузере
- [x] Тестовый компонент показывает состояние из Redux

**Результат:** Redux Store настроен, vocabulary slice готов к использованию.

---

## Этап 3: Система загрузки модулей словаря

**Статус:** ✅ ЗАВЕРШЕН

**Цель:** Создать систему загрузки JSON модулей словаря с валидацией.

### Чекпойнты:
- [x] Создана JSON схема для валидации модулей (`src/data/schemas/vocabularyModule.schema.json`)
- [x] Создан модуль A1 с подборками (`src/data/modules/A1/index.json`)
- [x] Создан Vocabulary Loader Service (`src/services/vocabularyLoader.ts`)
- [x] Реализована функция `loadModule(moduleId: string)`
- [x] Добавлена валидация структуры данных
- [x] Добавлена обработка ошибок загрузки
- [x] Создан async thunk `loadVocabularyModule` в vocabulary slice
- [x] Добавлены состояния загрузки (pending, fulfilled, rejected)
- [x] Тестирование загрузки модуля A1 (обновлен App.tsx для демонстрации)

**Результат:** Система загрузки модулей работает, данные валидируются.

**Зависимости:** Этап 2 должен быть завершен.

---

## Этап 4: React Router настройка

**Статус:** ✅ ЗАВЕРШЕН

**Цель:** Настроить роутинг между страницами приложения.

### Чекпойнты:
- [x] Создана конфигурация роутов (`src/routes/routes.tsx`)
- [x] Создан HomePage компонент (выбор модуля)
- [x] Создан ModulePage компонент (выбор подборки)
- [x] Создан CollectionPage компонент (выбор категории)
- [x] Создан RootLayout с навигацией
- [x] Создан ModuleLayout для страниц модуля
- [x] Интегрирован `<Outlet />` для вложенных роутов
- [x] Создан компонент ModuleSelector
- [x] Создан компонент CollectionSelector
- [x] Создан компонент CategorySelector
- [x] Роуты интегрированы в main.tsx

**Результат:** Роутинг работает, навигация между модулями/подборками/категориями функционирует.

**Зависимости:** Этап 3 должен быть завершен.

---

## Этап 5: Flashcards функциональность

**Статус:** ✅ ЗАВЕРШЕН

**Цель:** Реализовать интерактивные карточки для изучения слов.

### Чекпойнты:
- [x] Создан flashcards slice (`src/features/flashcards/flashcardsSlice.ts`)
- [x] Определены типы для flashcards (`src/features/flashcards/types.ts`)
- [x] Добавлены actions: `nextCard`, `prevCard`, `flipCard`, `shuffleCards`, `setCards`, `resetFlashcards`
- [x] Добавлены селекторы: `selectCurrentCard`, `selectIsFlipped`, `selectCardIndex`, `selectTotalCards`, `selectProgress`
- [x] Flashcards slice подключен к store
- [x] Создан компонент Flashcard с анимацией переворота (CSS 3D)
- [x] Создан компонент FlashcardDeck для управления колодой
- [x] Реализован прогресс-бар изучения
- [x] Добавлена фильтрация по категориям
- [x] Интеграция с vocabulary slice (получение слов)
- [x] Создана страница FlashcardsPage с роутингом
- [x] Интеграция с CollectionPage (переход на flashcards)

**Результат:** Flashcards работают, карточки переворачиваются, навигация функционирует.

**Зависимости:** Этап 4 должен быть завершен.

---

## Этап 6: Система прогресса

**Статус:** ⏳ ОЖИДАЕТ

**Цель:** Реализовать отслеживание прогресса изучения и сохранение в localStorage.

### Чекпойнты:
- [ ] Создан progress slice (`src/features/progress/progressSlice.ts`)
- [ ] Определены типы для прогресса (`src/features/progress/types.ts`)
- [ ] Добавлены actions: `markWordStudied`, `updateWordProgress`, `saveQuizResult`
- [ ] Progress slice подключен к store
- [ ] Создан сервис progressStorage (`src/services/progressStorage.ts`)
- [ ] Реализована функция `saveProgress()` для localStorage
- [ ] Реализована функция `loadProgress()` для восстановления состояния
- [ ] Добавлен middleware для автосохранения прогресса
- [ ] Реализовано восстановление состояния при загрузке приложения
- [ ] Создан компонент ProgressTracker для отображения статистики
- [ ] Тестирование сохранения и загрузки прогресса

**Результат:** Прогресс сохраняется в localStorage, восстанавливается при загрузке.

**Зависимости:** Этап 5 должен быть завершен.

---

## Этап 7: Квизы

**Статус:** ⏳ ОЖИДАЕТ

**Цель:** Реализовать систему квизов (Multiple Choice и Spelling).

### Чекпойнты:
- [ ] Создан quizzes slice (`src/features/quizzes/quizzesSlice.ts`)
- [ ] Определены типы для квизов (`src/features/quizzes/types.ts`)
- [ ] Добавлены actions: `startQuiz`, `submitAnswer`, `finishQuiz`
- [ ] Quizzes slice подключен к store
- [ ] Создан компонент QuizMultipleChoice
- [ ] Реализована генерация вопросов из словаря
- [ ] Реализована генерация дистракторов (неправильных ответов)
- [ ] Добавлена визуальная обратная связь (правильно/неправильно)
- [ ] Реализован подсчет очков
- [ ] Создан компонент QuizSpelling
- [ ] Реализована проверка правописания (с учетом опечаток)
- [ ] Добавлены подсказки при ошибках
- [ ] Создан компонент QuizResults для отображения результатов
- [ ] Интеграция с progress slice (сохранение результатов)
- [ ] Тестирование обоих типов квизов

**Результат:** Квизы работают, результаты сохраняются в прогресс.

**Зависимости:** Этап 6 должен быть завершен.

---

## Этап 8: UI/UX и стилизация

**Статус:** ⏳ ОЖИДАЕТ

**Цель:** Создать красивый и интуитивный интерфейс с glass-morphism эффектами.

### Чекпойнты:
- [ ] Настроена цветовая палитра в Tailwind (light/airy theme)
- [ ] Создан базовый компонент Button с анимациями
- [ ] Создан базовый компонент Card с glass-morphism
- [ ] Создан компонент ProgressBar
- [ ] Создан компонент Modal для модальных окон
- [ ] Реализованы анимации переворота карточек (framer-motion или CSS)
- [ ] Добавлены плавные переходы между страницами
- [ ] Реализован responsive дизайн для мобильных устройств
- [ ] Добавлены микро-интерактивности (hover, click эффекты)
- [ ] Создан компонент Navigation для навигации между страницами
- [ ] Тестирование UI на разных размерах экрана

**Результат:** Интерфейс красивый, интуитивный, работает на всех устройствах.

**Зависимости:** Этап 7 должен быть завершен.

---

## Этап 9: API Endpoints (открытые для расширения)

**Статус:** ⏳ ОЖИДАЕТ

**Цель:** Создать структуру API endpoints для будущей интеграции с backend.

### Чекпойнты:
- [ ] Создана структура `src/services/api/`
- [ ] Создан базовый API клиент (`src/services/api/base.ts`)
- [ ] Создан файл `src/services/api/progress.ts` с endpoints для прогресса
- [ ] Создан файл `src/services/api/vocabulary.ts` с endpoints для словаря
- [ ] Реализованы заглушки (mocks) для всех endpoints
- [ ] Добавлена обработка ошибок API
- [ ] Подготовлена структура для RTK Query (опционально)
- [ ] Документированы все endpoints
- [ ] Тестирование работы с заглушками

**Результат:** API структура готова, легко переключиться на реальный backend.

**Зависимости:** Этап 8 должен быть завершен.

---

## Этап 10: Тестирование и оптимизация

**Статус:** ⏳ ОЖИДАЕТ

**Цель:** Протестировать приложение и оптимизировать производительность.

### Чекпойнты:
- [ ] Написаны unit тесты для утилит
- [ ] Написаны тесты для Redux slices
- [ ] Написаны тесты для компонентов (React Testing Library)
- [ ] Реализован code splitting для модулей
- [ ] Добавлен lazy loading для роутов
- [ ] Оптимизированы селекторы (мемоизация)
- [ ] Оптимизирован рендеринг больших списков
- [ ] Проверена производительность (Lighthouse)
- [ ] Исправлены найденные баги
- [ ] Создана документация по использованию
- [ ] Финальная проверка всех функций MVP

**Результат:** Приложение протестировано, оптимизировано, готово к использованию.

**Зависимости:** Этап 9 должен быть завершен.

---

## Итоговый чеклист MVP

- [ ] Все этапы завершены
- [ ] Все чекпойнты закрыты
- [ ] Приложение работает без ошибок
- [ ] Все функции MVP реализованы
- [ ] Документация обновлена
- [ ] Код соответствует правилам разработки

---

## Примечания

- **Переход на следующий этап:** Только после закрытия ВСЕХ чекпойнтов текущего этапа
- **Изменение плана:** Если нужно изменить план, обновить этот файл и уведомить команду
- **Отслеживание прогресса:** Использовать файлы в папке `stages/` для отслеживания прогресса каждого этапа

